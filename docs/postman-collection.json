{
  "info": {
    "_postman_id": "waste-segregator-api",
    "name": "Smart Waste Segregator API",
    "description": "Complete API collection for Smart Waste Segregator Admin Dashboard",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register Admin",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@wastemanagement.com\",\n  \"password\": \"Admin@123456\",\n  \"name\": \"Admin User\",\n  \"role\": \"admin\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": ["{{base_url}}"],
              "path": ["auth", "register"]
            }
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@wastemanagement.com\",\n  \"password\": \"Admin@123456\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            }
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refresh_token}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/refresh",
              "host": ["{{base_url}}"],
              "path": ["auth", "refresh"]
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/auth/logout",
              "host": ["{{base_url}}"],
              "path": ["auth", "logout"]
            }
          }
        }
      ]
    },
    {
      "name": "Bins",
      "item": [
        {
          "name": "Get All Bins",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/bins?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["bins"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "category",
                  "value": "metal",
                  "disabled": true
                }
              ]
            }
          }
        },
        {
          "name": "Create Bin",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"binId\": \"BIN-005\",\n  \"category\": \"metal\",\n  \"location\": \"Building C - Ground Floor\",\n  \"capacity\": 100\n}"
            },
            "url": {
              "raw": "{{base_url}}/bins",
              "host": ["{{base_url}}"],
              "path": ["bins"]
            }
          }
        },
        {
          "name": "Update Bin",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"location\": \"Building A - Updated Location\",\n  \"status\": \"maintenance\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/bins/BIN-001",
              "host": ["{{base_url}}"],
              "path": ["bins", "BIN-001"]
            }
          }
        },
        {
          "name": "Delete Bin",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/bins/BIN-005",
              "host": ["{{base_url}}"],
              "path": ["bins", "BIN-005"]
            }
          }
        }
      ]
    },
    {
      "name": "IoT Endpoints",
      "item": [
        {
          "name": "Send Device Update",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{iot_api_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"binId\": \"BIN-001\",\n  \"fillLevel\": 75,\n  \"sensorStatus\": \"ok\",\n  \"imageUrl\": \"https://via.placeholder.com/300?text=Metal+Waste\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/iot/update",
              "host": ["{{base_url}}"],
              "path": ["iot", "update"]
            }
          }
        },
        {
          "name": "Get Commands",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{iot_api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/iot/commands/BIN-001",
              "host": ["{{base_url}}"],
              "path": ["iot", "commands", "BIN-001"]
            }
          }
        },
        {
          "name": "Acknowledge Command",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{iot_api_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"executed\",\n  \"executedAt\": \"2024-01-15T10:30:00Z\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/iot/commands/{{command_id}}/ack",
              "host": ["{{base_url}}"],
              "path": ["iot", "commands", "{{command_id}}", "ack"]
            }
          }
        }
      ]
    },
    {
      "name": "Analytics",
      "item": [
        {
          "name": "Get Waste Count",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/analytics/waste-count",
              "host": ["{{base_url}}"],
              "path": ["analytics", "waste-count"]
            }
          }
        },
        {
          "name": "Get Dashboard Summary",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/analytics/dashboard",
              "host": ["{{base_url}}"],
              "path": ["analytics", "dashboard"]
            }
          }
        },
        {
          "name": "Get Trends",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/analytics/trends?days=7",
              "host": ["{{base_url}}"],
              "path": ["analytics", "trends"],
              "query": [
                {
                  "key": "days",
                  "value": "7"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Alerts",
      "item": [
        {
          "name": "Get All Alerts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/alerts?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["alerts"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Resolve Alert",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isResolved\": true,\n  \"notes\": \"Alert resolved - bin emptied\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/alerts/{{alert_id}}",
              "host": ["{{base_url}}"],
              "path": ["alerts", "{{alert_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Feedback",
      "item": [
        {
          "name": "Submit Feedback",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"category\": \"feature-request\",\n  \"rating\": 5,\n  \"message\": \"Great system! Would love to see real-time notifications.\",\n  \"email\": \"user@example.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/feedback",
              "host": ["{{base_url}}"],
              "path": ["feedback"]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5000/api"
    },
    {
      "key": "access_token",
      "value": ""
    },
    {
      "key": "refresh_token",
      "value": ""
    },
    {
      "key": "iot_api_key",
      "value": "test-api-key-123"
    }
  ]
}
